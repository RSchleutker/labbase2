{% extends "base-site-entities.html" %}

{% from "oligonucleotides/form.html" import primer_add_form %}
{% from "oligonucleotides/table.html" import table %}


{% block toolbar %}

  <div class="d-flex flex-row justify-content-center">
    <div class="p-2">
       <div class="btn-group btn-group-sm">
         <button type="button" class="btn btn-success disabled"><i class="fa-solid fa-upload"></i></button>
         <button type="button"
                 class="btn btn-success"
                 data-toggle="modal"
                 data-target="#modal-edit-primer--1">
           FORM
         </button>
         <button type="button"
                 class="btn btn-success"
                 data-toggle="modal"
                 data-target="#modal-import-file">
           FILE
         </button>
       </div>
    </div>
    <div class="p-2">
      <div class="btn-group btn-group-sm">
        <button type="button" class="btn btn-warning disabled"><i class="fa-solid fa-download"></i></button>
        <a type="button" class="btn btn-warning" href="{{ url_for(".export", format_="csv", **args) }}">CSV</a>
        <a type="button" class="btn btn-warning" href="{{ url_for(".export", format_="json", **args) }}">JSON</a>
        <a type="button" class="btn btn-warning" href="{{ url_for(".export", format_="fasta", **args) }}">FASTA</a>
      </div>
    </div>
  </div>

  <div id="modal-import-file" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Import from file</h4>
          <button type="button" class="close" data-dismiss="modal">&times;
          </button>
        </div>
        <div class="modal-body" id="modal-import-file-body">

            <form action="{{ url_for("imports.upload", type_="oligonucleotide") }}"
            method="POST"
            enctype=multipart/form-data
            id="form-edit-file-{{ id }}">
          {{ import_file_form.hidden_tag() }}
          <div class="row">
              <div class="col-4">
                  {{ forms.field(import_file_form.file, 'File') }}
              </div>
              <div class="col-8">
                  {{ import_file_form.submit() }}
              </div>
          </div>
      </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

{% endblock %}


{% block scripts %}

  {{ super() }}

  {{ primer_add_form(add_form, ".add", "POST", -1) }}

{% endblock %}